<Page x:Class="DownloaderApp.MVVM.View.InstagramView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
      xmlns:local="clr-namespace:DownloaderApp.MVVM.View"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:uc="clr-namespace:DownloaderApp.UserControls"
      xmlns:vm="clr-namespace:DownloaderApp.MVVM.ViewModel"
      Title="InstagramView"
      d:Background="LightGray"
      d:DesignHeight="600"
      d:DesignWidth="800"
      mc:Ignorable="d">

    <Page.DataContext>

        <vm:InstagramVM />

    </Page.DataContext>

    <Grid>

        <Grid.RowDefinitions>

            <RowDefinition Height="Auto" />

            <RowDefinition Height="Auto" />

            <RowDefinition Height="Auto" />

            <RowDefinition Height="*" />

        </Grid.RowDefinitions>

        <Grid Grid.Row="0">

            <uc:InfoSign Width="64"
                         Height="64"
                         HorizontalAlignment="Left"
                         VerticalAlignment="Top"
                         Background="#1D2B53"
                         BadBackground="#FF004D"
                         Cursor="Help"
                         FontSize="32"
                         FontWeight="Bold"
                         Foreground="White"
                         NeutralBackground="#1D2B53"
                         State="{Binding InfoSignState}"
                         SuccessBackground="Lime"
                         ToolTip="{Binding InfoSignToolTip}" />

            <Image Width="128"
                   Height="128"
                   Margin="0,0,0,16">

                <Image.Source>

                    <DrawingImage>

                        <DrawingImage.Drawing>

                            <DrawingGroup ClipGeometry="M0,0 V24 H24 V0 H0 Z">

                                <GeometryDrawing Geometry="F0 M24,24z M0,0z M12,18C15.3137,18 18,15.3137 18,12 18,8.68629 15.3137,6 12,6 8.68629,6 6,8.68629 6,12 6,15.3137 8.68629,18 12,18z M12,16C14.2091,16 16,14.2091 16,12 16,9.79086 14.2091,8 12,8 9.79086,8 8,9.79086 8,12 8,14.2091 9.79086,16 12,16z">

                                    <GeometryDrawing.Brush>

                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">

                                            <GradientStop Offset=".45" Color="#FF004D" />

                                            <GradientStop Offset="1" Color="#FAEF5D" />

                                        </LinearGradientBrush>

                                    </GeometryDrawing.Brush>

                                </GeometryDrawing>

                                <GeometryDrawing Geometry="F1 M24,24z M0,0z M18,5C17.4477,5 17,5.44772 17,6 17,6.55228 17.4477,7 18,7 18.5523,7 19,6.55228 19,6 19,5.44772 18.5523,5 18,5z">

                                    <GeometryDrawing.Brush>

                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">

                                            <GradientStop Offset=".45" Color="#FF004D" />

                                            <GradientStop Offset="1" Color="#FAEF5D" />

                                        </LinearGradientBrush>

                                    </GeometryDrawing.Brush>

                                </GeometryDrawing>

                                <GeometryDrawing Geometry="F0 M24,24z M0,0z M1.65396,4.27606C1,5.55953,1,7.23969,1,10.6L1,13.4C1,16.7603 1,18.4405 1.65396,19.7239 2.2292,20.8529 3.14708,21.7708 4.27606,22.346 5.55953,23 7.23969,23 10.6,23L13.4,23C16.7603,23 18.4405,23 19.7239,22.346 20.8529,21.7708 21.7708,20.8529 22.346,19.7239 23,18.4405 23,16.7603 23,13.4L23,10.6C23,7.23969 23,5.55953 22.346,4.27606 21.7708,3.14708 20.8529,2.2292 19.7239,1.65396 18.4405,1 16.7603,1 13.4,1L10.6,1C7.23969,1 5.55953,1 4.27606,1.65396 3.14708,2.2292 2.2292,3.14708 1.65396,4.27606z M13.4,3L10.6,3C8.88684,3 7.72225,3.00156 6.82208,3.0751 5.94524,3.14674 5.49684,3.27659 5.18404,3.43597 4.43139,3.81947 3.81947,4.43139 3.43597,5.18404 3.27659,5.49684 3.14674,5.94524 3.0751,6.82208 3.00156,7.72225 3,8.88684 3,10.6L3,13.4C3,15.1132 3.00156,16.2777 3.0751,17.1779 3.14674,18.0548 3.27659,18.5032 3.43597,18.816 3.81947,19.5686 4.43139,20.1805 5.18404,20.564 5.49684,20.7234 5.94524,20.8533 6.82208,20.9249 7.72225,20.9984 8.88684,21 10.6,21L13.4,21C15.1132,21 16.2777,20.9984 17.1779,20.9249 18.0548,20.8533 18.5032,20.7234 18.816,20.564 19.5686,20.1805 20.1805,19.5686 20.564,18.816 20.7234,18.5032 20.8533,18.0548 20.9249,17.1779 20.9984,16.2777 21,15.1132 21,13.4L21,10.6C21,8.88684 20.9984,7.72225 20.9249,6.82208 20.8533,5.94524 20.7234,5.49684 20.564,5.18404 20.1805,4.43139 19.5686,3.81947 18.816,3.43597 18.5032,3.27659 18.0548,3.14674 17.1779,3.0751 16.2777,3.00156 15.1132,3 13.4,3z">

                                    <GeometryDrawing.Brush>

                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">

                                            <GradientStop Offset=".45" Color="#FF004D" />

                                            <GradientStop Offset="1" Color="#FAEF5D" />

                                        </LinearGradientBrush>

                                    </GeometryDrawing.Brush>

                                </GeometryDrawing>

                            </DrawingGroup>

                        </DrawingImage.Drawing>

                    </DrawingImage>

                </Image.Source>

            </Image>

        </Grid>

        <uc:SearchTextBox Grid.Row="1"
                          Padding="16,8"
                          BorderBrush="#FF004D"
                          BorderThickness="4"
                          ButtonBackground="#FF004D"
                          ButtonText="Download"
                          ClickCommand="{Binding ButtonClickCommand}"
                          CornerRadius="24"
                          FontSize="18"
                          IsButtonEnabled="{Binding IsDownloadButtonEnabled}"
                          Placeholder="Enter download url"
                          ShadowColor="#FF004D"
                          Text="{Binding InputText, Mode=TwoWay}"
                          TextChangedCommand="{Binding TextChangedCommand}" />

        <Grid Grid.Row="2">

            <Grid.ColumnDefinitions>

                <ColumnDefinition Width="Auto" />

                <ColumnDefinition Width="*" />

            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0"
                       Padding="0,0,0,2"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Center"
                       FontSize="16"
                       FontWeight="Medium"
                       Foreground="White"
                       Text="{Binding InfoText}"
                       Typography.Capitals="AllSmallCaps" />

            <uc:DirectoryDialog Grid.Column="1"
                                Margin="16,16,0,16"
                                HorizontalAlignment="Right"
                                Background="#1D2B53"
                                FontSize="16"
                                FontWeight="Medium"
                                Foreground="White"
                                PathMaxWidth="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Grid}}"
                                SelectedPath="{Binding SelectedPath, Mode=TwoWay}"
                                SelectedPathCommand="{Binding SelectedPathCommand}" />

        </Grid>

        <uc:MediaCarousel Grid.Row="3"
                          VerticalAlignment="Stretch"
                          Background="Black"
                          BorderBrush="Black"
                          BorderThickness="1"
                          ButtonBackground="#FAEF5D"
                          ButtonDisableBackground="#FF004D"
                          ButtonHoverBackground="#1C326E"
                          IsSourceSelectable="True"
                          MenuBackground="White"
                          MenuForeground="Black"
                          MenuHoverColor="LightGray"
                          SelectableCollection="{Binding SelectableCollection, Mode=OneWayToSource}"
                          Source="{Binding MediaSource}" />

    </Grid>

</Page>
